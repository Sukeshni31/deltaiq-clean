<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>DeltaAIQ</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      max-width: 720px;
      margin: 40px auto;
    }
    input, select, button {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      font-size: 15px;
    }
    button {
      cursor: pointer;
    }
    .card {
      border: 1px solid #ddd;
      padding: 16px;
      margin-top: 16px;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<h1>DeltaAIQ</h1>
<p>AI Readiness Benchmark</p>

<input id="company" placeholder="Company name (e.g. Everest)" />

<select id="industry">
  <option value="">Select Industry</option>
  <option>IT Services</option>
  <option>Aviation</option>
  <option>Manufacturing</option>
  <option>Pharma / Healthcare</option>
  <option>SaaS / Product</option>
  <option>GCC / Captive</option>
</select>

<button onclick="generate()">Generate AIQ</button>

<div id="output"></div>

<script>
async function generate() {
  const company = document.getElementById("company").value;
  const industry = document.getElementById("industry").value;

  const res = await fetch("/api/aiq", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ company, industry })
  });

  const data = await res.json();

  document.getElementById("output").innerHTML = `
    <div class="card">
      <h2>${data.aiq} / 100</h2>
      <p><strong>Industry median:</strong> ${data.industryMedian}</p>
      <p><strong>Position:</strong> ${data.position}</p>
    </div>

    <div class="card">
      <h3>Peer Comparison</h3>
      ${data.peerComparison.peers.map(p =>
        `<div>${p.name} â€” <strong>${p.score}</strong></div>`
      ).join("")}
      <p><strong>Rank:</strong> ${data.peerComparison.rank} of ${data.peerComparison.total}</p>
    </div>
  `;
}
</script>

</body>
</html>
