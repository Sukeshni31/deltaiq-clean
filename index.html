<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>DeltaAIQ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: system-ui; max-width: 900px; margin: 40px auto; }
    select, input { padding: 10px; width: 100%; margin-bottom: 12px; }
    .score { font-size: 32px; font-weight: bold; }
    canvas { margin-top: 30px; }
  </style>
</head>
<body>

<h1>DeltaAIQ</h1>
<p>AI Readiness Benchmark</p>

<input id="company" placeholder="Company name" />

<select id="industry">
  <option>IT Services</option>
  <option>SaaS / Product</option>
  <option>Aviation</option>
  <option>Manufacturing</option>
  <option>Pharma / Healthcare</option>
  <option>GCC / Captive</option>
</select>

<button onclick="runAIQ()">Generate AIQ</button>

<div id="result"></div>

<canvas id="radar"></canvas>
<canvas id="bar"></canvas>

<script type="module">
  import { calculateAIQ } from './aiq.js';

  let radarChart, barChart;

  window.runAIQ = () => {
    const company = document.getElementById("company").value;
    const industry = document.getElementById("industry").value;

    if (!company) return alert("Enter company name");

    const data = calculateAIQ(company, industry);

    document.getElementById("result").innerHTML = `
      <div class="score">${data.aiq} / 100</div>
      <p>Industry median: ${data.industryMedian}</p>
      <p>Position: Top ${data.percentile}%</p>
    `;

    if (radarChart) radarChart.destroy();
    radarChart = new Chart(document.getElementById("radar"), {
      type: 'radar',
      data: {
        labels: ["Talent", "Tools", "Data", "Governance", "Delivery", "Change"],
        datasets: [{
          label: company,
          data: data.radar
        }]
      }
    });

    if (barChart) barChart.destroy();
    barChart = new Chart(document.getElementById("bar"), {
      type: 'bar',
      data: {
        labels: ["Company", "Industry"],
        datasets: [{
          data: [data.aiq, data.industryMedian]
        }]
      }
    });
  };
</script>

</body>
</html>
